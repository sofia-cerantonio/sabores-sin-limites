<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Recetas — Sabores sin Límites</title>
  <link href="https://fonts.googleapis.com/css2?family=Lobster&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style-recetas.css') }}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body style ="  background-color: #fbf8f4;">

  <header class="navbar" style="padding: 25px;">
    <div class="brand">
      <a href="{{ url_for('index') }}" style="display:flex; align-items:center; text-decoration:none; color:white;">
        <h1><b>Sabores sin Límites</b></h1>
      </a>
    </div>
    <nav class="nav-links">
      <a href="{{ url_for('recipes') }}">Recetas</a>
      <a href="{{url_for('shop') }}">Tienda</a>
      <a href="{{ url_for('cart') }}">Carrito ({{ session.get('cart', [])|length }})</a>
    </nav>
  </header>
  


  <main class="container">
    <h2><b>Explorar recetas</b></h2>

    <div class="searchbar">
      <input id="q" type="search" placeholder="Buscar por nombre o ingrediente..." style="flex:1;padding:8px;border:0;outline:none">
      <button id="searchBtn" class="btn btn-success btn-sm">Buscar</button>
    </div>

    <div class="filters" style="margin-top:12px">
  
      <input type="checkbox" class="btn-check filter-cb" id="btn-sl" autocomplete="off" value="sin-lactosa">
      <label class="btn btn btn-toggle btn-sm me-2 mb-2" for="btn-sl">Sin lactosa</label>
      
      <input type="checkbox" class="btn-check filter-cb" id="btn-db" autocomplete="off" value="diabetes">
      <label class="btn btn-toggle btn-sm me-2 mb-2" for="btn-db">Diabetes</label>
      
      <input type="checkbox" class="btn-check filter-cb" id="btn-hp" autocomplete="off" value="hipertensión">
      <label class="btn btn-toggle btn-sm me-2 mb-2" for="btn-hp">Hipertensión</label>
      
      <input type="checkbox" class="btn-check filter-cb" id="btn-st" autocomplete="off" value="sin-tacc">
      <label class="btn btn-toggle btn-sm me-2 mb-2" for="btn-st">Sin TACC</label>
      
    </div>

    <section style="margin-top:18px">
      <div id="recipesList"> 
        {% for recipe in recipes %}
        
        <div class="row g-0 bg-white position-relative shadow-sm mb-4 rounded-3" 
             data-type="{{ recipe['type'] }}" 
             style="display: flex;"> <div class="col-md-4 mb-md-0 p-md-3">
                <img src="{{ url_for('static', filename='images/' + recipe['image']) }}" 
                     class="img-fluid rounded-start" 
                     alt="{{ recipe['title'] }}"
                     style="height: 200px; width: 100%; object-fit: cover;">
            </div>
            
            <div class="col-md-8 p-4 ps-md-0 d-flex flex-column">
                <h3 class="mt-0 fw-bold">{{ recipe['title'] }}</h3>
                
                <p class="text-muted mb-2 small">
                    <span class="badge bg-danger me-2">{{ recipe['type'] | replace(',', ' | ') }}</span>
                    <span>Nutrición: {{ recipe['nutrition'] }}</span>
                </p>
                
                <p>{{ recipe['description'] }}</p>
                
                <a href="{{ url_for('recipe_detail', recipe_id=recipe['id']) }}" class="btn btn- mt-auto align-self-start">
                    Ver Receta
                </a>
                
                </div>
        </div>
        {% endfor %}
      </div>      
    </section>

    <footer class="footer" style="  background-color: #fbf8f4;">¿Querés que agreguemos una condición más? Escribinos.</footer>
  </main>


  <script src="{{ url_for('static', filename='js/recetas.js') }}"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</body>
</html>

